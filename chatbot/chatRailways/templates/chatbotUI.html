{% load static %}
<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indian Railways Assistant</title>
    <link rel="stylesheet" href="{% static 'stylesheet/chatbotUI_style.css' %}">
    <link rel="stylesheet" href="{% static 'stylesheet/theme.css' %}">
    <!-- <link rel="stylesheet" href="../static/stylesheet/chatbotUI_style.css">
    <link rel="stylesheet" href="../static/stylesheet/theme.css"> -->
    <link rel="icon" type="image/x-icon" href="{% static 'images/train1.png' %}" height="50px" weight="50px">
</head>

<body>
    <div class="app-container">
        <nav class="navbar">
            <div class="nav-content">
                <div class="logo-section">
                    <img src="{% static 'images/train2.png' %}" alt="Indian Railways Logo">
                    <h1>Indian Railways Assistant</h1>
                </div>
                <div class="controls">
                    <label class="theme-switch">
                        <input type="checkbox" class="theme-switch__checkbox" id="theme-toggle">
                        <div class="theme-switch__container">
                            <div class="theme-switch__clouds"></div>
                            <div class="theme-switch__stars-container">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 144 55" fill="none">
                                    <path d="M135.831..." fill="currentColor"></path>
                                </svg>
                            </div>
                            <div class="theme-switch__circle-container">
                                <div class="theme-switch__sun-moon-container">
                                    <div class="theme-switch__moon">
                                        <div class="theme-switch__spot"></div>
                                        <div class="theme-switch__spot"></div>
                                        <div class="theme-switch__spot"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </label>
                    <select id="language-select" class="language-dropdown">
                        <optgroup label="Indian Languages">
                            <option value="en">English</option>
                            <option value="hi">Hindi</option>
                            <option value="bn">Bengali</option>
                            <option value="te">Telugu</option>
                            <option value="mr">Marathi</option>
                            <option value="ta">Tamil</option>
                            <option value="ur">Urdu</option>
                            <option value="gu">Gujarati</option>
                            <option value="kn">Kannada</option>
                            <option value="ml">Malayalam</option>
                            <!-- <option value="pa">Punjabi</option> -->
                            <!-- <option value="as">Assamese</option> -->
                        </optgroup>
                        <optgroup label="International Languages">
                            <option value="fr">French</option>
                            <option value="es">Spanish</option>
                            <option value="de">German</option>
                            <option value="it">Italian</option>
                            <option value="pt">Portuguese</option>
                            <option value="ru">Russian</option>
                            <option value="ja">Japanese</option>
                            <option value="ko">Korean</option>
                            <option value="zh">Chinese</option>
                            <option value="ar">Arabic</option>
                        </optgroup>
                    </select>


                    <div class="helpline-dropdown">
                        <button class="helpline-button" onclick="toggleHelplineMenu()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path
                                    d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z">
                                </path>
                            </svg>
                            Helpline Numbers
                        </button>
                        <div class="helpline-content" id="helplineMenu">
                            <div class="helpline-group">
                                <h3>Emergency Helplines</h3>
                                <div class="helpline-item">
                                    <span class="helpline-number"><a href="tel:139">139</a></span>
                                    <span class="helpline-desc">Railway Enquiry & Grievances</span>
                                </div>
                                <div class="helpline-item">
                                    <span class="helpline-number"><a href="tel:182">182</a></span>
                                    <span class="helpline-desc">Security Helpline</span>
                                </div>
                                <div class="helpline-item">
                                    <span class="helpline-number"><a href="tel:1098">1098</a></span>
                                    <span class="helpline-desc">Child Help</span>
                                </div>
                            </div>
                            <div class="helpline-group">
                                <h3>Customer Services</h3>
                                <div class="helpline-item">
                                    <span class="helpline-number"><a href="tel:138">138</a></span>
                                    <span class="helpline-desc">Customer Care</span>
                                </div>
                                <div class="helpline-item">
                                    <span class="helpline-number"><a href="tel:1323">1323</a></span>
                                    <span class="helpline-desc">E-Catering</span>
                                </div>
                            </div>
                            <div class="helpline-group">
                                <h3>Other Services</h3>
                                <div class="helpline-item">
                                    <span class="helpline-number"><a href="tel:155210">155210</a></span>
                                    <span class="helpline-desc">Anti-Corruption</span>
                                </div>
                            </div>
                            <div class="helpline-footer">
                                <a href="https://m.indiacustomercare.com/indian-railways-customer-care-contact-helpline-numbers#gsc.tab=0"
                                    target="_blank" rel="noopener noreferrer">
                                    For More Information â†’
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <main class="chat-container">
            <div class="messages" id="messages">
                <div class="message bot">
                    <div class="message-content">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 16 16"
                            fill="currentColor" class="bot-icon">
                            <path
                                d="M5.065.158A1.5 1.5 0 0 1 5.736 0h4.528a1.5 1.5 0 0 1 .67.158l3.237 1.618a1.5 1.5 0 0 1 .83 1.342V13.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 13.5V3.118a1.5 1.5 0 0 1 .828-1.342zM2 9.372V13.5A1.5 1.5 0 0 0 3.5 15h4V8h-.853a.5.5 0 0 0-.144.021zM8.5 15h4a1.5 1.5 0 0 0 1.5-1.5V9.372l-4.503-1.35A.5.5 0 0 0 9.353 8H8.5zM14 8.328v-5.21a.5.5 0 0 0-.276-.447l-3.236-1.618A.5.5 0 0 0 10.264 1H5.736a.5.5 0 0 0-.223.053L2.277 2.67A.5.5 0 0 0 2 3.118v5.21l1-.3V5a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3.028zm-2-.6V5H8.5v2h.853a1.5 1.5 0 0 1 .431.063zM7.5 7V5H4v2.728l2.216-.665A1.5 1.5 0 0 1 6.646 7zm-1-5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm-3 8a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1m9 0a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1M5 13a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2" />
                        </svg>
                        <p>Hello! I'm your Indian Railways Assistant. How can I help you today?</p>
                    </div>
                </div>
            </div>

            <form class="input-form" method="post" onsubmit="submitForm(event)">
                {% csrf_token %}
                <div class="input-container">
                    <textarea id="user-query" name="query" placeholder="Type your railway query here..." rows="1"
                        class="chat-input"></textarea>

                    <button id="playPauseButton" type="button" class="icon-button" onclick="togglePlayPause()"
                        title="Voice Input">
                        <svg xmlns="http://www.w3.org/2000/svg" id="iconRecord" width="24" height="24"
                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z" />
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
                            <line x1="12" x2="12" y1="19" y2="22" />
                        </svg>
                    </button>

                    <button type="submit" class="icon-button send-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="22" x2="11" y1="2" y2="13" />
                            <polygon points="22 2 15 22 11 13 2 9 22 2" />
                        </svg>
                    </button>

                    <!-- Add Voice Chat Button -->
                    <button class="voice-chat-button" id="voiceChatButton">
                        <svg fill="#ffffff" version="1.1" viewBox="144 144 512 512" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff" width="30" height="30"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="m400 179.58c-4.1758 0-8.1797 1.6602-11.133 4.6094-2.9531 2.9531-4.6133 6.957-4.6133 11.133v409.35c0 5.625 3 10.82 7.8711 13.633s10.875 2.8125 15.746 0 7.8711-8.0078 7.8711-13.633v-409.35c0-4.1758-1.6602-8.1797-4.6094-11.133-2.9531-2.9492-6.957-4.6094-11.133-4.6094z"></path> <path d="m462.98 289.79c-4.1758 0-8.1836 1.6602-11.133 4.6133-2.9531 2.9531-4.6133 6.957-4.6133 11.133v204.67c0 5.625 3 10.82 7.8711 13.633 4.8711 2.8125 10.875 2.8125 15.746 0s7.8711-8.0078 7.8711-13.633v-204.67c0-4.1758-1.6602-8.1797-4.6094-11.133-2.9531-2.9531-6.9609-4.6133-11.133-4.6133z"></path> <path d="m525.95 242.56c-4.1758 0-8.1797 1.6562-11.133 4.6094-2.9492 2.9531-4.6094 6.957-4.6094 11.133v299.14c0 5.625 3 10.824 7.8711 13.637s10.875 2.8125 15.746 0c4.8711-2.8125 7.8711-8.0117 7.8711-13.637v-299.14c0-4.1758-1.6602-8.1797-4.6133-11.133-2.9492-2.9531-6.957-4.6094-11.133-4.6094z"></path> <path d="m588.93 337.02c-4.1758 0-8.1797 1.6562-11.133 4.6094-2.9531 2.9531-4.6094 6.957-4.6094 11.133v110.21c0 5.6211 3 10.82 7.8711 13.633 4.8711 2.8125 10.875 2.8125 15.746 0 4.8711-2.8125 7.8711-8.0117 7.8711-13.633v-110.21c0-4.1758-1.6602-8.1797-4.6133-11.133-2.9531-2.9531-6.957-4.6094-11.133-4.6094z"></path> <path d="m337.02 289.79c-4.1758 0-8.1797 1.6602-11.133 4.6133s-4.6133 6.957-4.6133 11.133v204.67c0 5.625 3 10.82 7.8711 13.633 4.875 2.8125 10.875 2.8125 15.746 0 4.8711-2.8125 7.8711-8.0078 7.8711-13.633v-204.67c0-4.1758-1.6562-8.1797-4.6094-11.133s-6.957-4.6133-11.133-4.6133z"></path> <path d="m274.05 242.56c-4.1758 0-8.1797 1.6562-11.133 4.6094-2.9531 2.9531-4.6133 6.957-4.6133 11.133v299.14c0 5.625 3.0039 10.824 7.875 13.637 4.8711 2.8125 10.871 2.8125 15.742 0 4.8711-2.8125 7.8711-8.0117 7.8711-13.637v-299.14c0-4.1758-1.6562-8.1797-4.6094-11.133-2.9531-2.9531-6.957-4.6094-11.133-4.6094z"></path> <path d="m211.07 337.02c-4.1758 0-8.1797 1.6562-11.133 4.6094-2.9531 2.9531-4.6133 6.957-4.6133 11.133v110.21c0 5.6211 3.0039 10.82 7.875 13.633 4.8711 2.8125 10.871 2.8125 15.742 0s7.8711-8.0117 7.8711-13.633v-110.21c0-4.1758-1.6562-8.1797-4.6094-11.133-2.9531-2.9531-6.957-4.6094-11.133-4.6094z"></path> </g> </g></svg>
                    </button>

                    <!-- Voice Chat Modal -->
                    <div class="voice-chat-modal" id="voiceChatModal">
                        <div class="voice-chat-container">
                            <div class="voice-chat-header">
                                <h2 class="voice-chat-title">Voice Chat</h2>
                                <button class="voice-chat-close" id="closeVoiceChat">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <line x1="18" y1="6" x2="6" y2="18" />
                                        <line x1="6" y1="6" x2="18" y2="18" />
                                    </svg>
                                </button>
                            </div>
                            <div class="voice-chat-content">
                                <p class="voice-status" id="voiceStatus">Click the microphone to start speaking</p>
                                <div class="voice-waves" id="voiceWaves">
                                    <div class="voice-wave"></div>
                                    <div class="voice-wave"></div>
                                    <div class="voice-wave"></div>
                                </div>
                                <button class="voice-button" id="voiceButton">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z" />
                                        <path d="M19 10v2a7 7 0 0 1-14 0v-2" />
                                        <line x1="12" x2="12" y1="19" y2="22" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </main>

    </div>

    <!-- <script src="../static/javascript/chatbot_scripts.js"></script> -->
    <script src="{% static 'javascript/chatbot_scripts.js' %}"></script>
</body>

</html>